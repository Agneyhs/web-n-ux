<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DOM Manipulation — Live Exercise</title>
  <style>
    :root {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      line-height: 1.4;
    }

    body {
      max-width: 900px;
      margin: 32px auto;
      padding: 16px;
      background: #f7f7f7;
      color: #333;
      font-size: 1rem;
    }

    header {
      display: flex;
      gap: 16px;
      align-items: center;
      background-color: #ff8c00;
      padding: 16px;
      border-radius: 8px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    }

    header h1 {
      font-size: 2rem;
      color: white;
    }

    header small {
      font-size: 0.9rem;
      color: #fff5e0;
    }

    .card {
      background-color: #ffffff;
      border: 1px solid #e0e0e0;
      padding: 16px;
      border-radius: 10px;
      margin-top: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: box-shadow 0.3s ease-in-out;
    }

    .card:hover {
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    button {
      padding: 10px 16px;
      border-radius: 8px;
      border: 1px solid #ff8c00;
      background-color: #ff8c00;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    button:hover {
      background-color: #e07b00;
      transform: translateY(-2px);
    }

    button:active {
      background-color: #c56b00;
    }

    input[type="text"] {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ff8c00;
      width: 100%;
      font-size: 1rem;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #ff6a00;
    }

    ul {
      padding-left: 20px;
      list-style-type: none;
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 12px;
    }

    li {
      margin: 8px 0;
      padding: 10px;
      background-color: #fffbf2;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    li button.remove {
      padding: 5px 12px;
      background-color: #da0c0c;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }

    li button.remove:hover {
      background-color: #c30000;
    }

    .highlight {
      background: linear-gradient(90deg, rgba(255, 230, 150, 0.6), rgba(255, 159, 159, 0));
    }

    .card h2 {
      font-size: 1.5rem;
      color: #3b0404;
    }

    .card p {
      color: #666;
    }

    #createdArea img {
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <header>
    <h1>DOM Manipulation — Live Exercise</h1>
    <small>Practice: create / update / remove elements & attributes</small>
  </header>
  <section class="card" id="textCard">
    <h2>Update text content</h2>
    <p id="intro">This text will be changed when you click the button below.</p>
    <button id="changeTextBtn">Change text</button>
  </section>
  <section class="card" id="inputCard">
    <h2>Use input to update DOM</h2>
    <label>
      New heading: <input type="text" id="headingInput" placeholder="Type a new heading" />
    </label>
    <button id="applyHeading">Apply</button>
    <h3 id="liveHeading">Original heading</h3>
  </section>
  <section class="card" id="listCard">
    <h2>Manage a list</h2>
    <input type="text" id="itemInput" placeholder="New todo item" />
    <button id="addItem">Add item</button>
    <button id="clearList">Clear list</button>
    <ul id="todoList">
      <li>Example item 1 <button class="remove">Remove</button></li>
      <li>Example item 2 <button class="remove">Remove</button></li>
    </ul>
  </section>
  <section class="card" id="createCard">
    <h2>Create element & attributes</h2>
    <button id="createImgBtn">Create image element</button>
    <div id="createdArea"></div>
  </section>
  <section class="card" id="toggleCard">
    <h2>Toggle classes & attributes</h2>
    <p id="togText">Click the toggle button to highlight this paragraph.</p>
    <button id="toggleBtn">Toggle highlight</button>
  </section>

  <script>
    
    const $ = (sel, ctx = document) => ctx.querySelector(sel);
    const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));
    const changeTextBtn = $('#changeTextBtn');
    const intro = $('#intro');
    changeTextBtn.addEventListener('click', () => {
      intro.textContent = 'Text has been updated at ' + new Date().toLocaleTimeString();
    });

    $('#applyHeading').addEventListener('click', () => {
      const val = $('#headingInput').value.trim();
      const live = $('#liveHeading');
      if (!val) {
        live.textContent = 'Original heading';
        return;
      }
      live.textContent = val;
    });
    const todoList = $('#todoList');
    $('#addItem').addEventListener('click', () => {
      const text = $('#itemInput').value.trim();
      if (!text) return;
      const li = document.createElement('li');
      li.innerHTML = `${escapeHtml(text)} <button class="remove">Remove</button>`;
      todoList.appendChild(li);
      $('#itemInput').value = '';
    });
    $('#clearList').addEventListener('click', () => {
      while (todoList.firstChild) todoList.removeChild(todoList.firstChild);
    });
    todoList.addEventListener('click', (e) => {
      if (e.target && e.target.matches('button.remove')) {
        const li = e.target.closest('li');
        li.remove(); 
      }
    });
    $('#createImgBtn').addEventListener('click', () => {
      const area = $('#createdArea');
      const existing = $('#createdArea img');
      if (existing) {
        existing.remove();
        return;
      }
      const img = document.createElement('img');
      img.setAttribute('alt', 'Cute placeholder');
      img.src = 'https://placekitten.com/320/180';
      img.width = 350;
      img.height = 200;
      img.style.display = 'block';
      img.style.marginTop = '8px';
      area.appendChild(img);
    });
    $('#toggleBtn').addEventListener('click', () => {
      $('#togText').classList.toggle('highlight');
    });

    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, (c) => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
      }[c]));
    }
  </head>
    </html>
